<html>
    <head>
        <script src="splide.min.js"></script>
        <link href="splide.min.css" rel="stylesheet">
        <link rel="stylesheet" href="magazine.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    </head>
    <body>
        <header>
            <img src="./img/logo_colored.png" alt="./magazine/img/logo_colored.png">
        </header>
        <main>
            <h2 class="title">RB C<span>asting</span></h2>
            <section id="search">

                <h3 texted="search_title"></h3>
                <div class="search_input_wrapper">
                    <form action="">
                        <div class="search_input">
                            <!-- TODO action https://testi.rbcasting.com/search?q=pippo -->
                            <!-- TODO https://rbcasting.com/rb/search?q=pippo -->
                            <input type="text" class="searchbox" name="search_professionista"
                                texted="placeholder_artist" textedAttribute="placeholder">
                            <div class="box"></div>
                            <button class="search_input_btn btn_icon"
                                texted="btn_search_artist" textedAttribute="title"></button>
                        </div>
                    </form>
                    <a href="" class="btn_lnk" texted="btn_search_advance"></a>
                </div>
            </section>
            <section id="icons">
                <div class="icons_btn"><a data-icon="plus" href="" class="btn_icon"></a><p texted="btn_lnk_create_casting"></p></div>
                <div class="icons_btn"><a data-icon="users" href="" class="btn_icon"></a><p texted="btn_lnk_users"></p></div>
                <div class="icons_btn"><a data-icon="casting" href="" class="btn_icon"></a><p texted="btn_lnk_casting"></p></div>
                <div class="icons_btn"><a data-icon="magazine" href="" class="btn_icon"></a><p texted="btn_lnk_magazine"></p></div>
            </section>
            <section id="slideshow_wrapper">
                <h2 texted="magazine_title"></h2>
                <p texted="magazine_subtitle"></p>
                <div id="slideshow_magazine">
                    <!-- <button class="btn_prev"><</button> -->
                    <div class="splide" role="group" aria-label="Splide Basic HTML Example">
                        <div class="splide__track">
                            <ul class="splide__list">
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/1.jpg" alt="./magazine/slideshow/1.jpg"><div class="slideshow_label">avatar</div></div></li>
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/2.jpg" alt="./magazine/slideshow/2.jpg"><div class="slideshow_label">the whale</div></div></li>
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/3.jpg" alt="./magazine/slideshow/3.jpg"><div class="slideshow_label">pulp fiction</div></div></li>
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/4.jpg" alt="./magazine/slideshow/4.jpg"><div class="slideshow_label">eightful eight</div></div></li>
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/5.jpg" alt="./magazine/slideshow/5.jpg"><div class="slideshow_label">kill bill</div></div></li>
                                <li class="splide__slide"><div class="slideshow_slide"><img src="./img/slideshow/6.jpg" alt="./magazine/slideshow/6.jpg"><div class="slideshow_label">unce upon a time in hollywood</div></div></li>
                            </ul>
                        </div>
                    </div>
                    <!-- <button class="btn_next">></button> -->
                </div>
                </div>
                <div class="search_input_wrapper">
                    <form action="">
                        <div class="search_input">
                            <input type="text" class="searchbox" name="search_magazine"
                                texted="placeholder_magazine" textedAttribute="placeholder">
                            <div class="box"></div>
                            <button class="search_input_btn btn_icon"
                                texted="btn_search_magazine" textedAttribute="title"></button>
                        </div>
                    </form>
                    <a href="" class="btn_lnk" texted="btn_lnk_magazine"></a>
                </div>
            </section>
            <section id="opportunita_wrapper">
                <h2 texted="opportunita_title"></h2>
                <p texted="opportunita_subtitle"></p>
                <div class="opportunita">
                    <section >
                        <header texted="section_opportunita_attore">
                        </header>
                        <main>
                            <div class="opportunita_content">
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                            </div>
                        </main>
                    </section>
                    <section>
                        <header texted="section_opportunita_casting_director"></b>
                        </header>
                        <main>
                            <div class="opportunita_content">
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                            </div>
                        </main>
                        
                    </section>
                    <section>
                        <header texted="section_opportunita_agente">
                        </header>
                        <main>
                            <div class="opportunita_content">
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                            </div>
                        </main>

                    </section>
                    <section>
                        <header texted="section_opportunita_audizione">
                        </header>
                        <main>
                            <div class="opportunita_content">
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                                Lorem ipsum <br>
                            </div>
                        </main>

                    </section>
                </div>
                <a href="" class="btn_lnk btn_lnk--uppercase" texted="btn_login"></a>
                <a href="" class="btn_lnk btn_lnk--secondary btn_lnk--uppercase" texted="btn_signin"></a>
                <a href="" class="lnk" texted="btn_lnk_guest"></a>
            </section>
            <section id="casting">
                <div class="casting_info">
                    <h2 texted="casting_title"></h2>
                    <div class="casting_info_btns">
                        <a href="" class="btn_lnk btn_lnk--uppercase" texted="btn_lnk_castlist"></a>
                         <a href="" class="btn_lnk btn_lnk--secondary btn_lnk--uppercase" texted="btn_lnk_create_casting"></a>
                    </div>
                </div>
                <div class="casting_images">
                    <div class="casting_images--primary">
                        <a href="" class="hoverable">
                            <img src="./img/casting_1.jpg" alt="./magazine/img/casting_1.jpg" class="primary">
                        </a>
                        <div class="casting_images--secondary">
                            <a href="" class="hoverable"><img src="./img/casting_2.jpg" alt="./magazine/img/casting_2.jpg">
                            </a>
                            <a href="" class="hoverable"><img src="./img/casting_3.jpg" alt="./magazine/img/casting_3.jpg">
                            </a>
                        </div>
                    </div>
                    <div class="casting_images--tertiary">
                        <a href="" class="hoverable"><img src="./img/casting_2.jpg" alt="./magazine/img/casting_2.jpg">
                        </a>
                        <a href="" class="hoverable"><img src="./img/casting_3.jpg" alt="./magazine/img/casting_3.jpg">
                        </a>
                        <a href="" class="hoverable"><img src="./img/casting_3.jpg" alt="./magazine/img/casting_3.jpg">
                        </a>
                    </div>
                </div>
            </section>
            <footer>
                <div class="footer_lnks">
                    <a href="" class="lnk">Privacy Policy</a>
                    <a href="" class="lnk">Cookie Policy</a>
                </div>
                <div class="footer_content">
                    <img src="./img/logo.png" alt="./magazine/img/logo.png">
                    <div class="footer_social">
                        <a href="" class="btn_icon"></a>
                        <a href="" class="btn_icon"></a>
                        <a href="" class="btn_icon"></a>
                        <a href="" class="btn_icon"></a>
                    </div>
                </div>
                <p>Copyright 2011 Â© RB Casting. Tutti i diritti sono riservati</p>
            </footer>
        </main>
    </body>
    <script>
        // new Splide( '.splide' ).mount();
    /* const prev = document.createElement('button')
    prev.classList.add('btn_prev') */
    document.addEventListener( 'DOMContentLoaded', function () {
        new Splide( '.splide', {
            perPage : 3,
            height: 270,
            gap: 5,
            padding: { left: 40, right: 40 },
            breakpoints: {
             1100: {
             perPage: 2,
             },
             770: {
             perPage: 1,
             padding: {left: 0, right: 0}
             },
            }
            // width:1380,
            // arrows: {"prev":document.querySelector(".btn_prev"), next: document.querySelector(".btn_next")},
            // fixedWidth:300,
            // fixedHeight:130,
            // fixedWidth:480, 
            // pagination: true,
            // autoWidth: true
        }        
        ).mount();
    });
    </script>
    <script>
        function injectLang(lang){
            debugger
            const inject = (el, lang)=>{
                const key = el.getAttribute("texted")
                const value = lang[key] || null
                if(value){
                    if(el.hasAttribute("textedAttribute")){
                        el.setAttribute(el.getAttribute("textedAttribute"),value)
                    }
                    else el.innerHTML = value
                }
            }

            const els = Array.from(document.querySelectorAll("[texted]"))
            els.forEach(el=>inject(el,lang))
        }

        fetch("./lang.json").then(data=>data.json()).then(lang=>injectLang(lang))
    </script>
</html>